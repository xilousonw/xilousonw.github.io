<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>3-Linux——文件管理 | 西楼</title><meta name="description" content="1.文件管理概述1.Bash Shell对文件进行管理谈到Linux文件管理，首先我们需要了解的就是，我们要对文件做些什么事情？其实无非就是对一个文件进行、创建、复制、移动、查看、编辑、压缩、查找、删除、等等例如 : 当我们想修改系统的主机名称，是否应该知道文件在哪，才能去做对应的修改？ 2.内容摘要系统目录结构文件路径定位文件管理命令文件类型file链接文件ln文件编辑vim 2.系统目录结构几"><meta name="author" content="xilousonw"><meta name="copyright" content="xilousonw"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://yoursite.com/2019/02/22/Linux%E2%80%94%E2%80%94%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta property="og:type" content="article"><meta property="og:title" content="3-Linux——文件管理"><meta property="og:url" content="http://yoursite.com/2019/02/22/Linux%E2%80%94%E2%80%94%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/"><meta property="og:site_name" content="西楼"><meta property="og:description" content="1.文件管理概述1.Bash Shell对文件进行管理谈到Linux文件管理，首先我们需要了解的就是，我们要对文件做些什么事情？其实无非就是对一个文件进行、创建、复制、移动、查看、编辑、压缩、查找、删除、等等例如 : 当我们想修改系统的主机名称，是否应该知道文件在哪，才能去做对应的修改？ 2.内容摘要系统目录结构文件路径定位文件管理命令文件类型file链接文件ln文件编辑vim 2.系统目录结构几"><meta property="og:image" content="http://yoursite.com/img/python+django.jpeg"><meta property="article:published_time" content="2019-02-22T13:24:21.000Z"><meta property="article:modified_time" content="2020-08-18T12:10:34.870Z"><meta name="twitter:card" content="summary"><script>var activateDarkMode = function () {
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#000')
  }
}
var activateLightMode = function () {
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null) {
    document.querySelector('meta[name="theme-color"]').setAttribute('content', '#fff')
  }
}

var getCookies = function (name) {
  const value = `; ${document.cookie}`
  const parts = value.split(`; ${name}=`)
  if (parts.length === 2) return parts.pop().split(';').shift()
}

var autoChangeMode = 'false'
var t = getCookies('theme')
if (autoChangeMode === '1') {
  var isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
  var isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
  var isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined) {
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport) {
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour <= 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
    }
    window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
      if (Cookies.get('theme') === undefined) {
        e.matches ? activateDarkMode() : activateLightMode()
      }
    })
  } else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else if (autoChangeMode === '2') {
  now = new Date()
  hour = now.getHours()
  isNight = hour <= 6 || hour >= 18
  if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode()
} else {
  if (t === 'dark') activateDarkMode()
  else if (t === 'light') activateLightMode()
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="prev" title="4-Linux——文件编辑" href="http://yoursite.com/2019/02/23/Linux%E2%80%94%E2%80%94%E6%96%87%E4%BB%B6%E7%BC%96%E8%BE%91/"><link rel="next" title="2-Linux——Shell" href="http://yoursite.com/2019/02/21/Linux%E2%80%94%E2%80%94shell/"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js"></script><script src="https://cdn.jsdelivr.net/npm/blueimp-md5/js/md5.min.js"></script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  bookmark: {
    message_prev: 'Press',
    message_next: 'to bookmark this page'
  },
  runtime_unit: 'days',
  runtime: false,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false    
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isSidebar: true
  }</script><noscript><style>
#nav {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="西楼" type="application/atom+xml">
</head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">Articles</div><div class="length_num">29</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down menus-expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-文件管理概述"><span class="toc-number">1.</span> <span class="toc-text">1.文件管理概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Bash-Shell对文件进行管理"><span class="toc-number">1.1.</span> <span class="toc-text">1.Bash Shell对文件进行管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-内容摘要"><span class="toc-number">1.2.</span> <span class="toc-text">2.内容摘要</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-系统目录结构"><span class="toc-number">2.</span> <span class="toc-text">2.系统目录结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-存放命令相关的目录"><span class="toc-number">2.1.</span> <span class="toc-text">1.存放命令相关的目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-存放用户相关数据的家目录，比如-windows不同的用户登陆系统显示的桌面背景不一样"><span class="toc-number">2.2.</span> <span class="toc-text">2.存放用户相关数据的家目录，比如:windows不同的用户登陆系统显示的桌面背景不一样</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-系统文件目录"><span class="toc-number">2.3.</span> <span class="toc-text">3.系统文件目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-启动目录"><span class="toc-number">2.4.</span> <span class="toc-text">4.启动目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-配置文件目录"><span class="toc-number">2.5.</span> <span class="toc-text">5.配置文件目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-可变的目录与临时目录"><span class="toc-number">2.6.</span> <span class="toc-text">6.可变的目录与临时目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-设备目录文件"><span class="toc-number">2.7.</span> <span class="toc-text">7.设备目录文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-虚拟的文件系统-如对应的进程停止则-proc下对应目录则会被删除"><span class="toc-number">2.8.</span> <span class="toc-text">8.虚拟的文件系统(如对应的进程停止则&#x2F;proc下对应目录则会被删除)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-其他"><span class="toc-number">2.9.</span> <span class="toc-text">9 其他</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-PS-在Linux7系统中"><span class="toc-number">2.10.</span> <span class="toc-text">10.PS: 在Linux7系统中,</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-文件路径定位"><span class="toc-number">3.</span> <span class="toc-text">3.文件路径定位</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-每个目录下都有一个-和-的目录是干啥的"><span class="toc-number">3.1.</span> <span class="toc-text">1.每个目录下都有一个.和..的目录是干啥的?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-那什么是绝对路径，什么又是相对路径呢"><span class="toc-number">3.2.</span> <span class="toc-text">2.那什么是绝对路径，什么又是相对路径呢?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-绝对路径与相对路径示例"><span class="toc-number">3.3.</span> <span class="toc-text">3.绝对路径与相对路径示例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-系统文件管理"><span class="toc-number">4.</span> <span class="toc-text">4.系统文件管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-文件管理之-创建-复制-移动-删除"><span class="toc-number">4.1.</span> <span class="toc-text">1.文件管理之: 创建&#x2F;复制&#x2F;移动&#x2F;删除</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-文件创建命令touch"><span class="toc-number">4.1.1.</span> <span class="toc-text">1.文件创建命令touch</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-目录创建命令mkdir"><span class="toc-number">4.1.2.</span> <span class="toc-text">2.目录创建命令mkdir</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-以树状显示目录结构命令tree"><span class="toc-number">4.1.3.</span> <span class="toc-text">3.以树状显示目录结构命令tree</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-文件管理之：查看文件内容-cat-tac-less-more-head-tail-tailf-grep-…"><span class="toc-number">4.2.</span> <span class="toc-text">2.文件管理之：查看文件内容(cat tac less more head tail tailf grep …)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-文件管理之：联网下载文件-wget、curl-、文件上传与下载-rz、sz"><span class="toc-number">4.3.</span> <span class="toc-text">3.文件管理之：联网下载文件(wget、curl)、文件上传与下载(rz、sz)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-文件管理之：文件或命令查找-locate、which、whereis、find"><span class="toc-number">4.4.</span> <span class="toc-text">4.文件管理之：文件或命令查找(locate、which、whereis、find)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-文件管理之：字符处理命令-sort、uniq、cut、sed、awk、wc、"><span class="toc-number">4.5.</span> <span class="toc-text">5.文件管理之：字符处理命令(sort、uniq、cut、sed、awk、wc、)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-系统文件属性"><span class="toc-number">5.</span> <span class="toc-text">5.系统文件属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-系统文件类型"><span class="toc-number">6.</span> <span class="toc-text">6.系统文件类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-系统链接文件"><span class="toc-number">7.</span> <span class="toc-text">7.系统链接文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-什么是软链接"><span class="toc-number">7.1.</span> <span class="toc-text">1.什么是软链接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-什么是硬链接"><span class="toc-number">7.2.</span> <span class="toc-text">2.什么是硬链接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-软链接实践"><span class="toc-number">7.3.</span> <span class="toc-text">3.软链接实践</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-硬链接实践"><span class="toc-number">7.4.</span> <span class="toc-text">4.硬链接实践</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/python+django.jpeg)"><nav id="nav"><span class="pull-left" id="blog_name"><a class="blog_title" id="site-name" href="/">西楼</a></span><span class="pull-right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down menus-expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">3-Linux——文件管理</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="Created 2019-02-22 21:24:21"><i class="far fa-calendar-alt fa-fw"></i> Created 2019-02-22</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="Updated 2020-08-18 20:10:34"><i class="fas fa-history fa-fw"></i> Updated 2020-08-18</span></time></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta__icon"></i><span>Post View:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"><span class="post-meta__separator">|</span><i class="far fa-comments fa-fw post-meta__icon"></i><span>Comments:</span><span class="disqus-comment-count comment-count"><a href="http://yoursite.com/2019/02/22/Linux%E2%80%94%E2%80%94%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/#disqus_thread"></a></span></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h2 id="1-文件管理概述"><a href="#1-文件管理概述" class="headerlink" title="1.文件管理概述"></a>1.文件管理概述</h2><h3 id="1-Bash-Shell对文件进行管理"><a href="#1-Bash-Shell对文件进行管理" class="headerlink" title="1.Bash Shell对文件进行管理"></a>1.Bash Shell对文件进行管理</h3><p>谈到Linux文件管理，首先我们需要了解的就是，我们要对文件做些什么事情？<br>其实无非就是对一个文件进行、创建、复制、移动、查看、编辑、压缩、查找、删除、等等<br>例如 : 当我们想修改系统的主机名称，是否应该知道文件在哪，才能去做对应的修改？</p>
<h3 id="2-内容摘要"><a href="#2-内容摘要" class="headerlink" title="2.内容摘要"></a>2.内容摘要</h3><p>系统目录结构<br>文件路径定位<br>文件管理命令<br>文件类型file<br>链接文件ln<br>文件编辑vim</p>
<h2 id="2-系统目录结构"><a href="#2-系统目录结构" class="headerlink" title="2.系统目录结构"></a>2.系统目录结构</h2><p>几乎所有的计算机操作系统都是使用目录结构组织文件。具体来说就是在一个目录中存放子目录和文件, 而在子目录中又会进一步存放子目录和文件，以此类推形成一个树状的文件结构，由于其结构很像一棵树的分支, 所以该结构又被称为“目录树”。<br>Windows: 以多根的方式组织文件 C: D:<br>Linux:以单根的方式组织文件 /</p>
<p>如下图为Centos7的目录结构<br><img src= "/img/loading.gif" data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghu6u9uuiej30zq0cq76d.jpg" alt="img"></p>
<h3 id="1-存放命令相关的目录"><a href="#1-存放命令相关的目录" class="headerlink" title="1.存放命令相关的目录"></a>1.存放命令相关的目录</h3><p>/bin， 普通用户使用的命令 /bin/ls, /bin/date<br>/sbin，管理员使用的命令 /sbin/service,poweroff,useradd…</p>
<p>只要看到bin路径，就应该意识到放的是可执行文件</p>
<p><img src= "/img/loading.gif" data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghu6uf0dtpj30qe08u40d.jpg" alt="img"></p>
<h3 id="2-存放用户相关数据的家目录，比如-windows不同的用户登陆系统显示的桌面背景不一样"><a href="#2-存放用户相关数据的家目录，比如-windows不同的用户登陆系统显示的桌面背景不一样" class="headerlink" title="2.存放用户相关数据的家目录，比如:windows不同的用户登陆系统显示的桌面背景不一样"></a>2.存放用户相关数据的家目录，比如:windows不同的用户登陆系统显示的桌面背景不一样</h3><p>/home，普通用户的家目录, 默认为/home/username</p>
<p>环境变量的东西不要删，删掉试一下</p>
<p>/root，超级管理员root的家目录, 普通用户无权操作<br><img src= "/img/loading.gif" data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghu6ujtk42j30qe08u75r.jpg" alt="img"></p>
<h3 id="3-系统文件目录"><a href="#3-系统文件目录" class="headerlink" title="3.系统文件目录"></a>3.系统文件目录</h3><p>/usr，相当于C:Windows<br>/usr/local，软件安装的目录，相当于C:Program<br>/usr/bin/，普通用户使用的应用程序(重要)<br>/usr/sbin，管理员使用的应用程序(重要)<br>/usr/lib，库文件Glibc 32bit<br>/usr/lib64，库文件Glibc 64bit</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># 1 </span><br><span class="line">df -h #df -h查看系统中文件的使用情况</span><br><span class="line">Size 分割区总容量</span><br><span class="line">Used 已使用的大小</span><br><span class="line">Avail 剩下的大小</span><br><span class="line">Use% 使用的百分比</span><br><span class="line">Mounted on 路径地址</span><br><span class="line"># 2</span><br><span class="line">du -sh * 查看当前目录下各个文件及目录占用空间大小</span><br><span class="line">du -sh &#x2F;usr&#x2F;</span><br><span class="line"># 3 标准是实现自动化的基础</span><br><span class="line">不通主机的相同的软件，都放在相同路径下，便于管理，实现自动化</span><br><span class="line">现在一般安装的软件，不放在&#x2F;usr&#x2F;local下了</span><br><span class="line"></span><br><span class="line"># 4 总共有一千来个命令</span><br><span class="line">ls &#x2F;usr&#x2F;bin&#x2F; | wc -l</span><br><span class="line">ls &#x2F;usr&#x2F;sbin&#x2F; | wc -l</span><br><span class="line"></span><br><span class="line"># 5 查看命令依赖那些库文件</span><br><span class="line">ldd &#x2F;bin&#x2F;ls</span><br></pre></td></tr></table></figure>

<p><img src= "/img/loading.gif" data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghu6uos4f8j30qe08umyy.jpg" alt="img"></p>
<h3 id="4-启动目录"><a href="#4-启动目录" class="headerlink" title="4.启动目录"></a>4.启动目录</h3><p>/boot 存放的系统启动相关的文件，例如:kernel，grub(引导装载程序)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ls &#x2F;boot</span><br><span class="line"># linux内核</span><br><span class="line"># 启动机器时可以选择的启动模式</span><br></pre></td></tr></table></figure>

<p><img src= "/img/loading.gif" data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghu6utvbtfj310y0majyw.jpg" alt="img"></p>
<h3 id="5-配置文件目录"><a href="#5-配置文件目录" class="headerlink" title="5.配置文件目录"></a>5.配置文件目录</h3><p>/etc，极其重要，后续所有服务的配置都在这个目录中<br>/etc/sysconfig/network-script/ifcfg-，网络配置文件<br>/etc/hostname，系统主机名配置文件,主机名很重要，有些特殊服务要依赖主机名，没有主机名会报错起不来；修改了要重启：reboot<br>/etc/resolv.conf，dns客户端配置文件,域名解析服务器，一般我们不配置，因为网卡的配置好了，会覆盖掉它，网卡的优先级高<br>/etc/hosts，本地域名解析配置文件，域名解析，先找自己的hosts，再去域名解析</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 1 </span><br><span class="line">&#x2F;etc&#x2F;hosts 对应windows C:windows&#x2F;system32&#x2F;drivers&#x2F;etc&#x2F;hosts,黑客钓鱼网站</span><br><span class="line"># 2 测试修改</span><br><span class="line">yum install httpd -y</span><br><span class="line">systemctl stop firewalld</span><br><span class="line">echo &quot;lqz NB&quot; &gt;&#x2F;var&#x2F;www&#x2F;html&#x2F;index.html</span><br><span class="line">systemctl start httpd</span><br></pre></td></tr></table></figure>

<h3 id="6-可变的目录与临时目录"><a href="#6-可变的目录与临时目录" class="headerlink" title="6.可变的目录与临时目录"></a>6.可变的目录与临时目录</h3><p>/var，存放一些变化文件，比如/var/log/下的日志文件,登陆日志<br>/var/tmp，进程产生的临时文件<br>/tmp，系统临时目录(类似于公共厕所)，谁都可以使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 1 查看登陆日志</span><br><span class="line">cat &#x2F;var&#x2F;log&#x2F;secure #查看登陆时间</span><br><span class="line"># 2 进程产生的临时文件（360清理垃圾，就是会清理）</span><br></pre></td></tr></table></figure>

<h3 id="7-设备目录文件"><a href="#7-设备目录文件" class="headerlink" title="7.设备目录文件"></a>7.设备目录文件</h3><p>/dev，存放设备文件，比如硬盘，硬盘分区，光驱，等等<br>/dev/sd 硬盘设备<br>/dev/null，黑洞设备，只进不出。类似于垃圾回收站<br>/dev/random，生成随机数的设备<br>/dev/zero，能远远不断的产生数据，类似于取款机，随时随地取钱</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># 1 sda sdb sdc sda1 sdb4</span><br><span class="line">linux中磁盘文件叫sd，第一个硬盘叫a，第二个叫b，sda1表示第一个磁盘的第一个分区，sdb4：第二个硬盘的第四个分区（服务可以插很多硬盘）</span><br><span class="line"># 2 &#x2F;dev&#x2F;null </span><br><span class="line">ls &gt;&#x2F;dev&#x2F;null</span><br><span class="line"># 3 &#x2F;dev&#x2F;random 生成随机数</span><br><span class="line">echo $RANDOM</span><br><span class="line">echo lqz_$RANDOM</span><br><span class="line">批量创建随机用户，批量设置密码</span><br><span class="line"># 4 源源不断取数据</span><br><span class="line">dd if&#x3D;&#x2F;dev&#x2F;zero of&#x3D;&#x2F;opt&#x2F;test.txt bs&#x3D;1M count&#x3D;1024</span><br><span class="line">&#39;&#39;&#39;</span><br><span class="line">dd：用指定大小的块拷贝一个文件，并在拷贝的同时进行指定的转换。</span><br><span class="line">if&#x3D;文件名：输入文件名，缺省为标准输入。即指定源文件。&lt; if&#x3D;input file &gt;</span><br><span class="line">of&#x3D;文件名：输出文件名，缺省为标准输出。即指定目的文件。&lt; of&#x3D;output file &gt;</span><br><span class="line"> bs&#x3D;bytes：同时设置读入&#x2F;输出的块大小为bytes个字节。</span><br><span class="line"> count&#x3D;blocks：仅拷贝blocks个块，块大小等于ibs指定的字节数。</span><br><span class="line">&#39;&#39;&#39;</span><br><span class="line"></span><br><span class="line">ll &#x2F;opt&#x2F;test.txt</span><br><span class="line">ll -h &#x2F;opt&#x2F;test.txt</span><br></pre></td></tr></table></figure>

<p><img src= "/img/loading.gif" data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghu6uzedkyj30t60a2421.jpg" alt="img"></p>
<h3 id="8-虚拟的文件系统-如对应的进程停止则-proc下对应目录则会被删除"><a href="#8-虚拟的文件系统-如对应的进程停止则-proc下对应目录则会被删除" class="headerlink" title="8.虚拟的文件系统(如对应的进程停止则/proc下对应目录则会被删除)"></a>8.虚拟的文件系统(如对应的进程停止则/proc下对应目录则会被删除)</h3><p>/proc，反映系统当前进程的实时状态 :process<br>PS：类似于小汽车的仪表板，能够看到汽车是否有故障，或者是否缺油了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ls &#x2F;proc # 可以看到很多id号，pid号，进程号，唯一</span><br><span class="line">ls 进程id号的文件夹</span><br><span class="line">如果进程被关闭，id号的文件夹就没了</span><br><span class="line">id号每次启动都不唯一，只有一个进程唯一，systemd 是进程号1的进程，所有进程都是基于它派生出来的</span><br></pre></td></tr></table></figure>

<h3 id="9-其他"><a href="#9-其他" class="headerlink" title="9 其他"></a>9 其他</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">#1 media:提供设备的挂载点，媒体文件</span><br><span class="line"># linux 新增了盘符，需要手动挂载</span><br><span class="line"># 把光盘里的数据，挂载到media目录</span><br><span class="line">mount  &#x2F;dev&#x2F;cdrom &#x2F;media&#x2F;</span><br><span class="line"></span><br><span class="line"># 2 mnt：提供设备的挂载点（同上）</span><br><span class="line"></span><br><span class="line"># 3 opt：第三方工具，第三方软件默认安装的(mysql...)</span><br><span class="line"></span><br><span class="line"># run :下有pid，log结尾的文件</span><br><span class="line">ls &#x2F;run</span><br><span class="line">cat sshd.pid  # 进程运行的pid号,放在文件中</span><br><span class="line">ps aux |grep sshd</span><br><span class="line"></span><br><span class="line"># .lock文件的作用,锁机制</span><br><span class="line"># 假设现在执行</span><br><span class="line">yum install tree</span><br><span class="line"># 再开一个窗口执行相同命令</span><br><span class="line">yum install tree</span><br><span class="line">&#39;&#39;&#39;</span><br><span class="line">Another app is currently holding the yum lock; waiting for it to exit...</span><br><span class="line">  The other application is: yum</span><br><span class="line">    Memory :  71 M RSS (470 MB VSZ)</span><br><span class="line">    Started: Tue Aug 18 00:26:31 2020 - 00:24 ago</span><br><span class="line">    State  : Sleeping, pid: 6191</span><br><span class="line">&#39;&#39;&#39;</span><br><span class="line">cat &#x2F;run&#x2F;yum.pid</span><br></pre></td></tr></table></figure>

<h3 id="10-PS-在Linux7系统中"><a href="#10-PS-在Linux7系统中" class="headerlink" title="10.PS: 在Linux7系统中,"></a>10.PS: 在Linux7系统中,</h3><p>/bin, /sbin, /lib, /lib64都以软链接的形式链接到/usr/目录下</p>
<p>/bin –&gt; /usr/bin<br>/sbin –&gt; /usr/sbin<br>lib -&gt; usr/lib<br>lib64 -&gt; usr/lib64</p>
<h2 id="3-文件路径定位"><a href="#3-文件路径定位" class="headerlink" title="3.文件路径定位"></a>3.文件路径定位</h2><p>在我们开始操作文件前，首先需要对文件进行定位，比如:<br>你要在哪创建什么文件? 你要将文件复制到什么地方? 或者你要删除的文件在什么地方?<br>那什么是定位: 比如/etc/hostname，整个文件中包含文件名称以及文件所在的位置，我们将这个叫做路径，那么路径就是对文件进行定位的一种方式。例:如下图的message所在的路径是?<br><img src= "/img/loading.gif" data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghu6v5mzj6j315u0h80v3.jpg" alt="img"><br>提问FQ: /home/oldboy/file 和/home/oldgirl/file是否是同一个文件?</p>
<h3 id="1-每个目录下都有一个-和-的目录是干啥的"><a href="#1-每个目录下都有一个-和-的目录是干啥的" class="headerlink" title="1.每个目录下都有一个.和..的目录是干啥的?"></a>1.每个目录下都有一个.和..的目录是干啥的?</h3><p>一个点代表当的是当前目录, 两个点代表的是当前目录的上层目录。<br>假设当前目录在<code>/usr/</code>下, 那么它的上层(/)目录用<code>../</code>表示, 而<code>/usr/</code>的下层(local)目录则用<code>./local</code>表示。</p>
<h3 id="2-那什么是绝对路径，什么又是相对路径呢"><a href="#2-那什么是绝对路径，什么又是相对路径呢" class="headerlink" title="2.那什么是绝对路径，什么又是相对路径呢?"></a>2.那什么是绝对路径，什么又是相对路径呢?</h3><p>绝对路径: 只要从/开始的路径，比如/home/alice/file<br>相对路径: 相对于当前目录来说，比如 a.txt ./a.txt ../bob/a.mp3 [加入: 此时在目录/home/alice]<br>小结: 所谓的(.)和(..)目录实际上属于相对路径的一种表示形式。</p>
<h3 id="3-绝对路径与相对路径示例"><a href="#3-绝对路径与相对路径示例" class="headerlink" title="3.绝对路径与相对路径示例"></a>3.绝对路径与相对路径示例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#绝对路径</span><br><span class="line">[root@bgx &#x2F;]# useradd alice</span><br><span class="line">[root@bgx &#x2F;]# touch &#x2F;home&#x2F;alice&#x2F;file1</span><br><span class="line">[root@bgx &#x2F;]# touch ~&#x2F;file2</span><br><span class="line">[root@bgx &#x2F;]# touch ~alice&#x2F;file3</span><br><span class="line"></span><br><span class="line">#相对路径</span><br><span class="line">[root@bgx &#x2F;]# mkdir abc</span><br><span class="line">[root@bgx &#x2F;]# touch ..&#x2F;file3</span><br><span class="line">[root@bgx &#x2F;]# touch file4</span><br><span class="line">[root@bgx &#x2F;]# touch abc&#x2F;file5</span><br></pre></td></tr></table></figure>

<p>cd改变目录，常见的使用方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># cd 绝对路径 cd &#x2F;etc&#x2F;hostname</span><br><span class="line"># cd 相对路径 cd test&#x2F;abc cd . cd ..</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># cd      #切换目录，例: cd &#x2F;etc</span><br><span class="line"># cd -    #切换回上一次所在的目录</span><br><span class="line"># cd ~    #切换回当前用户的家目录,注意:root和普通用户是否有所不同吗？</span><br><span class="line"># cd .    #代表当前目录，一般在拷贝、移动等情况下使用 cp &#x2F;etc&#x2F;hostname .&#x2F;</span><br><span class="line"># cd ..   #切换回当前目录的上级目录</span><br></pre></td></tr></table></figure>

<h2 id="4-系统文件管理"><a href="#4-系统文件管理" class="headerlink" title="4.系统文件管理"></a>4.系统文件管理</h2><h3 id="1-文件管理之-创建-复制-移动-删除"><a href="#1-文件管理之-创建-复制-移动-删除" class="headerlink" title="1.文件管理之: 创建/复制/移动/删除"></a>1.文件管理之: 创建/复制/移动/删除</h3><p>创建</p>
<h4 id="1-文件创建命令touch"><a href="#1-文件创建命令touch" class="headerlink" title="1.文件创建命令touch"></a>1.文件创建命令touch</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># touch file                    #无则创建,有则修改时间</span><br><span class="line"># touch file2 file3</span><br><span class="line"># touch &#x2F;home&#x2F;od&#x2F;file4 file5</span><br><span class="line"># touch file&#123;a,b,c&#125;             #&#123;&#125;集合，等价 touch a b c</span><br><span class="line"># touch file&#123;1..10&#125;</span><br><span class="line"># touch file&#123;a..z&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-目录创建命令mkdir"><a href="#2-目录创建命令mkdir" class="headerlink" title="2.目录创建命令mkdir"></a>2.目录创建命令mkdir</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 选项：-v 显示详细信息  -p 递归创建目录</span><br><span class="line"># mkdir dir1</span><br><span class="line"># mkdir &#x2F;home&#x2F;od&#x2F;dir1 &#x2F;home&#x2F;od&#x2F;dir2</span><br><span class="line"># mkdir -v &#x2F;home&#x2F;od&#x2F;&#123;dir3,dir4&#125; </span><br><span class="line"># mkdir -pv &#x2F;home&#x2F;od&#x2F;dir5&#x2F;dir6</span><br><span class="line"># mkdir -pv &#x2F;home&#x2F;&#123;od&#x2F;&#123;diu,but&#125;,boy&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-以树状显示目录结构命令tree"><a href="#3-以树状显示目录结构命令tree" class="headerlink" title="3.以树状显示目录结构命令tree"></a>3.以树状显示目录结构命令tree</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 选项: -L: 显示目录树的层级</span><br><span class="line"># tree &#x2F;home&#x2F;od&#x2F;    #显示当前目录下的结构</span><br><span class="line">&#x2F;home&#x2F;od&#x2F;</span><br><span class="line">├── but</span><br><span class="line">├── dir1</span><br><span class="line">├── dir2</span><br><span class="line">├── dir3</span><br><span class="line">├── dir4</span><br><span class="line">├── dir5</span><br><span class="line">│   └── dir6</span><br><span class="line">└── diu</span><br></pre></td></tr></table></figure>

<p>cp复制</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#选项： -v:详细显示命令执行的操作 -r: 递归处理目录与子目录 -p: 保留源文件或目录的属性</span><br><span class="line"></span><br><span class="line"># cp file &#x2F;tmp&#x2F;file_copy</span><br><span class="line"># cp name &#x2F;tmp&#x2F;name         #不修改名称</span><br><span class="line"># cp file &#x2F;tmp&#x2F;             #不修改名称</span><br><span class="line"># cp -p file &#x2F;tmp&#x2F;file_p    #-p保持原文件或目录的属性</span><br><span class="line"># cp -r  &#x2F;etc&#x2F; &#x2F;tmp&#x2F;        #复制目录需要使用-r参数, 递归复制</span><br><span class="line"># cp -rv &#x2F;etc&#x2F;hosts &#x2F;etc&#x2F;hostname &#x2F;tmp  #拷贝多个文件至一个目录</span><br><span class="line"># cp -rv &#x2F;etc&#x2F;&#123;hosts,hosts.bak&#125;</span><br><span class="line"># cp -rv &#x2F;etc&#x2F;hosts&#123;,-org&#125;</span><br></pre></td></tr></table></figure>

<p>mv移动</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># mv file file1             #原地移动算改名</span><br><span class="line"># mv file1 &#x2F;tmp&#x2F;            #移动文件至tmp目录</span><br><span class="line"># mv &#x2F;tmp&#x2F;file1 .&#x2F;          #移动tmp目录的文件至当前目录</span><br><span class="line"># mv dir&#x2F; &#x2F;tmp&#x2F;             #移动目录至&#x2F;tmp目录下</span><br><span class="line"></span><br><span class="line"># touch file&#123;1..3&#125;</span><br><span class="line"># mv file1 file2 file3 &#x2F;opt&#x2F;    #移动多个文件或至同一个目录</span><br><span class="line"></span><br><span class="line"># mkdir dir&#123;1..3&#125;</span><br><span class="line"># mv dir1&#x2F; dir2&#x2F; dir3&#x2F; &#x2F;opt     #移动多个目录至同一个目录</span><br></pre></td></tr></table></figure>

<p>rm删除</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#选项：-r: 递归 -f: 强制删除 -v: 详细过程</span><br><span class="line"># rm  file.txt      #删除文件, 默认rm存在alias别名，rm -i所以会提醒是否删除文件</span><br><span class="line"># rm -f file.txt    #删除文件, 不提醒</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># rm -r dir&#x2F;        #递归删除目录，会提示</span><br><span class="line"># rm -rf dir&#x2F;       #强制删除目录,不提醒(慎用)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#1.rm删除示例</span><br><span class="line"># mkdir &#x2F;home&#x2F;dir10</span><br><span class="line"># touch &#x2F;home&#x2F;dir10&#x2F;&#123;file2,file3,.file4&#125;</span><br><span class="line"># rm -f &#x2F;home&#x2F;dir10&#x2F;  &#x2F;&#x2F;不包括隐藏文件 </span><br><span class="line"># ls &#x2F;home&#x2F;dir10&#x2F; -a</span><br><span class="line">. .. .file4</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#2.rm删除示例2</span><br><span class="line"># touch file&#123;1..10&#125;</span><br><span class="line"># touch &#123;1..10&#125;.pdf</span><br><span class="line"># rm -rf file </span><br><span class="line"># rm -rf .pdf</span><br></pre></td></tr></table></figure>

<h3 id="2-文件管理之：查看文件内容-cat-tac-less-more-head-tail-tailf-grep-…"><a href="#2-文件管理之：查看文件内容-cat-tac-less-more-head-tail-tailf-grep-…" class="headerlink" title="2.文件管理之：查看文件内容(cat tac less more head tail tailf grep …)"></a>2.文件管理之：查看文件内容(cat tac less more head tail tailf grep …)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">#------cat</span><br><span class="line"># cp &#x2F;etc&#x2F;passwd .&#x2F;pass</span><br><span class="line"># cat pass      #正常查看文件方式</span><br><span class="line"># cat -n pass   #-n显示文件有多少行</span><br><span class="line"># cat -A pass   #查看文件的特殊符号,比如文件中存在tab键</span><br><span class="line"># tac pass      #倒序查看文件</span><br><span class="line">cat &gt;&gt; test2.txt &lt;&lt;EOF</span><br><span class="line">ads</span><br><span class="line">adf</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">#------less、more</span><br><span class="line"># less &#x2F;etc&#x2F;services    #使用光标上下翻动，空格进行翻页，q退出</span><br><span class="line"># more &#x2F;etc&#x2F;services    #使用回车上下翻动，空格进行翻页，q退出(有百分比)</span><br><span class="line"></span><br><span class="line">#------head</span><br><span class="line"># head pass     #查看头部内容，默认前十行</span><br><span class="line"># head -n5 pass #查看头部5行，使用-n指定</span><br><span class="line"># ps aux | head -5 # 只看头部5个进程</span><br><span class="line"></span><br><span class="line">#------tail</span><br><span class="line"># tail pass  # 查看文件尾部，默认10行</span><br><span class="line"># tail -20 &#x2F;var&#x2F;log&#x2F;secure  # 查看文件尾部20行</span><br><span class="line"># tail -f &#x2F;var&#x2F;log&#x2F;messages #-f动态查看文件尾部的变化</span><br><span class="line"># tailf &#x2F;var&#x2F;log&#x2F;messages   #查看文件尾部的变化</span><br><span class="line"># ps aux | tail -2</span><br><span class="line"></span><br><span class="line">#------grep过滤文件内容</span><br><span class="line"># grep &quot;^root&quot; pass     #匹配以root开头的行</span><br><span class="line"># grep &quot;bash$&quot; pass     #匹配以bash结尾的行</span><br><span class="line"># grep -i &quot;ftp&quot; pass    #忽略大小写匹配</span><br><span class="line"># grep  -Ei &quot;sync$|ftp&quot; pass    #匹配文件中包含sync结尾或ftp字符串</span><br><span class="line"># grep -n -A 2 &quot;Failed&quot; &#x2F;var&#x2F;log&#x2F;secure #匹配&#x2F;var&#x2F;log&#x2F;secure文件中Failed字符串,并打印它的下2行</span><br><span class="line"># grep -n -B 2 &quot;Failed&quot; &#x2F;var&#x2F;log&#x2F;secure #匹配&#x2F;var&#x2F;log&#x2F;secure文件中Failed字符串,并打印它的上2行</span><br><span class="line"># grep -n -C 2 &quot;Failed&quot; &#x2F;var&#x2F;log&#x2F;secure #匹配&#x2F;var&#x2F;log&#x2F;secure文件中Failed字符串,并打印它的上下2行</span><br></pre></td></tr></table></figure>

<h3 id="3-文件管理之：联网下载文件-wget、curl-、文件上传与下载-rz、sz"><a href="#3-文件管理之：联网下载文件-wget、curl-、文件上传与下载-rz、sz" class="headerlink" title="3.文件管理之：联网下载文件(wget、curl)、文件上传与下载(rz、sz)"></a>3.文件管理之：联网下载文件(wget、curl)、文件上传与下载(rz、sz)</h3><p>wget、curl联网下载文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#选项: -O: 指定下载地址</span><br><span class="line"># wget -O &#x2F;etc&#x2F;yum.repos.d&#x2F;CentOS-Base.repo http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;repo&#x2F;Centos-7.repo</span><br><span class="line"></span><br><span class="line">#选项: -o: 指定下载地址</span><br><span class="line"># curl -o &#x2F;etc&#x2F;yum.repos.d&#x2F;CentOS-Base.repo http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;repo&#x2F;Centos-7.repo</span><br></pre></td></tr></table></figure>

<p>rzsz上传下载文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># yum install lrzsz -y  #不安装软件则无法执行该命令</span><br><span class="line"></span><br><span class="line"># rz            #只能上传文件文件上传</span><br><span class="line"># sz &#x2F;path&#x2F;file #只能下载文件</span><br></pre></td></tr></table></figure>

<h3 id="4-文件管理之：文件或命令查找-locate、which、whereis、find"><a href="#4-文件管理之：文件或命令查找-locate、which、whereis、find" class="headerlink" title="4.文件管理之：文件或命令查找(locate、which、whereis、find)"></a>4.文件管理之：文件或命令查找(locate、which、whereis、find)</h3><p>文件查找</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># locate &#x2F;etc&#x2F;sh       #搜索etc目录下所有以sh开头的文件</span><br><span class="line"># locate -i &#x2F;etc&#x2F;sh    #搜索etc目录下，所有以sh开头的文件，忽略大小写</span><br></pre></td></tr></table></figure>

<p>命令查找</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># which ls  #查找ls命令的绝对路径</span><br><span class="line"></span><br><span class="line"># whereis ls       &#x2F;&#x2F;查找命令的路径、帮助手册、等</span><br><span class="line"># whereis -b ls    &#x2F;&#x2F;仅显示命令所在的路径</span><br><span class="line"></span><br><span class="line"># type -a ls        #查看命令的绝对路径(包括别名)</span><br></pre></td></tr></table></figure>

<h3 id="5-文件管理之：字符处理命令-sort、uniq、cut、sed、awk、wc、"><a href="#5-文件管理之：字符处理命令-sort、uniq、cut、sed、awk、wc、" class="headerlink" title="5.文件管理之：字符处理命令(sort、uniq、cut、sed、awk、wc、)"></a>5.文件管理之：字符处理命令(sort、uniq、cut、sed、awk、wc、)</h3><p>sort排序</p>
<p>在有些情况下，需要对应一个无序的文本文件进行数据的排序，这时就需要使用sort进行排序了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">sort [OPTION]... [FILE]...</span><br><span class="line"># -r：倒序 -n：按数字排序 -t：指定分隔符(默认空格) -k：指定第几列, 指定几列几字符（指定1,1  3.1,3.3）</span><br><span class="line"></span><br><span class="line">#1.首先创建一个文件，写入一写无序的内容</span><br><span class="line">[root@lqz ~]# cat &gt;&gt; file.txt &lt;&lt;EOF</span><br><span class="line">b:3</span><br><span class="line">c:2</span><br><span class="line">a:4</span><br><span class="line">e:5</span><br><span class="line">d:1</span><br><span class="line">f:11</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">#2.使用sort下面对输出的内容进行排序</span><br><span class="line">[root@lqz ~]# sort file.txt</span><br><span class="line">a:4</span><br><span class="line">b:3</span><br><span class="line">c:2</span><br><span class="line">d:1</span><br><span class="line">e:5</span><br><span class="line">f:11</span><br><span class="line"></span><br><span class="line">#结果并不是按照数字排序，而是按字母排序。</span><br><span class="line">#可以使用-t指定分隔符, 使用-k指定需要排序的列。</span><br><span class="line">[root@lqz ~]# sort -t &quot;:&quot; -k2 sort.txt</span><br><span class="line">d:1</span><br><span class="line">f:11 #第二行为什么是11？不应该按照顺序排列？</span><br><span class="line">c:2</span><br><span class="line">b:3</span><br><span class="line">a:4</span><br><span class="line">e:5</span><br><span class="line"></span><br><span class="line">#按照排序的方式, 只会看到第一个字符,11的第一个字符是1, 按照字符来排序确实比2小。 </span><br><span class="line">#如果想要按照数字的方式进行排序, 需要使用 -n参数。</span><br><span class="line">[root@lqz ~]# sort -t &quot;:&quot; -n -k2 p.txt</span><br><span class="line">d:1</span><br><span class="line">c:2</span><br><span class="line">b:3</span><br><span class="line">a:4</span><br><span class="line">e:5</span><br><span class="line">f:11</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#测试案例，下载文件http:&#x2F;&#x2F;fj.xuliangwei.com&#x2F;public&#x2F;ip.txt，对该文件进行排序</span><br><span class="line">[root@lqz ~]# sort -t. -k3.1,3.1nr -k4.1,4.3nr ip.txt</span><br></pre></td></tr></table></figure>

<p>uniq去重<br>如果文件中有多行完全相同的内容，当前是希望能删除重复的行，同时还可以统计出完全相同的行出现的总次数, 那么就可以使用<code>uniq</code>命令解决这个问题(但是必须配合<code>sort</code>使用)。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">uniq [OPTION]... [INPUT [OUTPUT]]</span><br><span class="line">#选项：-c  计算重复的行</span><br><span class="line"></span><br><span class="line">#1.创建一个file.txt文件:</span><br><span class="line">[root@lqz ~]# cat file.txt</span><br><span class="line">abc</span><br><span class="line">123</span><br><span class="line">abc</span><br><span class="line">123</span><br><span class="line">#2.uniq需要和sort一起使用, 先使用sort排序, 让重复内容连续在一起</span><br><span class="line">[root@lqz ~]# cat file.txt |sort</span><br><span class="line">123</span><br><span class="line">123</span><br><span class="line">abc</span><br><span class="line">abc</span><br><span class="line">#3.使用uniq去除相邻重复的行</span><br><span class="line">[root@lqz ~]# cat file.txt |sort|uniq</span><br><span class="line">123</span><br><span class="line">abc</span><br><span class="line">#4.-c参数能统计出文件中每行内容重复的次数</span><br><span class="line">[root@lqz ~]# cat file.txt |sort|uniq -c</span><br><span class="line">      2 123</span><br><span class="line">      2 abc</span><br></pre></td></tr></table></figure>

<p>cut截取字段</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">cut OPTION... [FILE]...</span><br><span class="line">#选项：-d 指定分隔符 -f 数字,取第几列 –f3,6三列和6列 -c 按字符取(空格也算)</span><br><span class="line">#echo &quot;Im xlw, is QQ 552408925&quot; &gt;file.txt   #过滤出文件里 xlw以及552408925</span><br><span class="line"></span><br><span class="line">#实现上述题目几种思路</span><br><span class="line"># cut -d &quot; &quot; -f2,5 file.txt</span><br><span class="line"># cut -d &quot; &quot; -f2,5 file.txt |sed &#39;s#,##g&#39;</span><br><span class="line"># sed &#39;s#,# #g&#39; file.txt | awk -F &quot; &quot; &#39;&#123;print $2 &quot; &quot; $5&#125;&#39;</span><br><span class="line"># awk  &#39;&#123;print $2,$5&#125;&#39; file.txt |awk -F &#39;,&#39; &#39;&#123;print $1,$2&#125;&#39;</span><br><span class="line"># awk -F  &quot;[, ]&quot; &#39;&#123;print $2,$6&#125;&#39; file.txt</span><br><span class="line"># awk -F &#39;[, ]+&#39; &#39;&#123;print $2,$5&#125;&#39; file.txt</span><br></pre></td></tr></table></figure>

<p>wc统计行号</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">wc [OPTION]... [FILE]...</span><br><span class="line">#选项：-l显示文件行数 -c显示文件字节 -w显示文件单词</span><br><span class="line"></span><br><span class="line"># wc -l &#x2F;etc&#x2F;fstab      #统计&#x2F;etc&#x2F;fstab文件有多少行</span><br><span class="line"># wc -l &#x2F;etc&#x2F;services   #统计&#x2F;etc&#x2F;services 文件行号</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#扩展方法</span><br><span class="line"># grep -n &quot;.&quot; &#x2F;etc&#x2F;services  | tail -1</span><br><span class="line"># awk &#39;&#123;print NR $0&#125;&#39; &#x2F;etc&#x2F;services | tail -1</span><br><span class="line"># cat -n &#x2F;etc&#x2F;services  | tail -1</span><br></pre></td></tr></table></figure>

<p>习题: 分析如下日志，统计每个域名被访问的次数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@student tmp]# cat web.log </span><br><span class="line">http:&#x2F;&#x2F;www.lqz.com&#x2F;index.html</span><br><span class="line">http:&#x2F;&#x2F;www.lqz.com&#x2F;1.html</span><br><span class="line">http:&#x2F;&#x2F;post.lqz.com&#x2F;index.html</span><br><span class="line">http:&#x2F;&#x2F;mp3.lqz.com&#x2F;index.html</span><br><span class="line">http:&#x2F;&#x2F;www.lqz.com&#x2F;3.html</span><br><span class="line">http:&#x2F;&#x2F;post.lqz.com&#x2F;2.html</span><br><span class="line"></span><br><span class="line"># awk -F &#39;&#x2F;&#39; &#39;&#123;print $3&#125;&#39; web.log|sort -rn|uniq –c</span><br><span class="line"># cut -d &#x2F; -f3 web.log|sort -rn|uniq –c</span><br></pre></td></tr></table></figure>

<p>习题: 使用awk取出系统的IP地址图解<br><img src= "/img/loading.gif" data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghu6vfp9n4j30pm0br0vg.jpg" alt="img"></p>
<h2 id="5-系统文件属性"><a href="#5-系统文件属性" class="headerlink" title="5.系统文件属性"></a>5.系统文件属性</h2><p>当我们使用ls -l列目录下所有文件时，通常会以长格式的方式显示，其实长格式显示就是我们Windows下看到的文件详细信息，我们也将其称为文件属性，那整个文件的属性分为十列。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@lqz ~]# ls -l ks.cfg</span><br><span class="line">-rw-------. 1 root root 4434 May 30 13:58 ks.cfg</span><br><span class="line"></span><br><span class="line">#</span><br><span class="line">-rw-------. ①:第一个字符是文件类型，其他则是权限</span><br><span class="line">1           ②:硬链接次数</span><br><span class="line">root        ③:文件属于哪个用户</span><br><span class="line">root        ④:文件属于哪个组</span><br><span class="line">4434        ⑤:文件大小</span><br><span class="line">May30 13:58 ⑥⑦⑧:最新修改的时间与日期</span><br><span class="line">ks.cfg      ⑨:文件或目录名称</span><br></pre></td></tr></table></figure>

<h2 id="6-系统文件类型"><a href="#6-系统文件类型" class="headerlink" title="6.系统文件类型"></a>6.系统文件类型</h2><p>1.通常我们使用颜色或者后缀名称来区分文件类型，但很多时候不是很准确，所以我们可以通过ls -l以长格式显示一个文件的属性，通过第一列的第一个字符来近一步的判断文件具体的类型。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@lqz ~]# ll -d &#x2F;etc&#x2F;hosts &#x2F;tmp &#x2F;bin&#x2F;ls  &#x2F;dev&#x2F;sda &#x2F;dev&#x2F;tty1 &#x2F;etc&#x2F;grub2.cfg &#x2F;dev&#x2F;log &#x2F;run&#x2F;dmeventd-client</span><br><span class="line">-rwxr-xr-x.  1 root root 117656 Jun 30  2016 &#x2F;bin&#x2F;ls</span><br><span class="line">srw-rw-rw-.  1 root root      0 Jan 20 10:35 &#x2F;dev&#x2F;log</span><br><span class="line">brw-rw----.  1 root disk   8, 0 Jan 20 10:36 &#x2F;dev&#x2F;sda</span><br><span class="line">crw--w----.  1 root tty    4, 1 Jan 20 10:36 &#x2F;dev&#x2F;tty1</span><br><span class="line">lrwxrwxrwx.  1 root root     22 Jan 13 11:31 &#x2F;etc&#x2F;grub2.cfg -&gt; ..&#x2F;boot&#x2F;grub2&#x2F;grub.cfg</span><br><span class="line">-rw-r--r--.  1 root root    199 Jan 20 11:03 &#x2F;etc&#x2F;hosts</span><br><span class="line">prw-------.  1 root root      0 Jan 20 10:36 &#x2F;run&#x2F;dmeventd-client</span><br><span class="line">drwxrwxrwt. 61 root root   8192 Jan 21 13:01 &#x2F;tmp</span><br><span class="line"></span><br><span class="line">#说明</span><br><span class="line">-   #普通文件(文本, 二进制, 压缩, 图片, 日志等) </span><br><span class="line">d   #目录文件</span><br><span class="line">b   #设备文件(块设备)存储设备硬盘 &#x2F;dev&#x2F;sda1, &#x2F;dev&#x2F;sda2</span><br><span class="line">c   #设备文件(字符设备)，终端 &#x2F;dev&#x2F;tty1, &#x2F;dev&#x2F;zero</span><br><span class="line">s   #套接字文件, 进程间通信(socket)</span><br><span class="line">p   #管道文件</span><br><span class="line">l   #链接文件</span><br></pre></td></tr></table></figure>

<p>2.但有些情况下，我们无法通过ls -l文件的类型，比如: 一个文件，它可能是普通文件、也可能是压缩文件、或者是命令文件等，那么此时就需要使用file来更加精准的判断这个文件的类型。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">[root@lqz ~]# file &#x2F;etc&#x2F;hosts</span><br><span class="line">&#x2F;etc&#x2F;hosts: ASCII text</span><br><span class="line"></span><br><span class="line">[root@lqz ~]# file &#x2F;bin&#x2F;ls</span><br><span class="line">&#x2F;bin&#x2F;ls: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), dynamically linked (uses shared libs), for GNU&#x2F;Linux 2.6.32, BuildID[sha1]&#x3D;aa7ff68f13de25936a098016243ce57c3c982e06, stripped</span><br><span class="line"></span><br><span class="line">[root@lqz ~]# file &#x2F;dev&#x2F;sda</span><br><span class="line">&#x2F;dev&#x2F;sda: block special</span><br><span class="line"></span><br><span class="line">[root@lqz ~]# file &#x2F;dev&#x2F;tty1</span><br><span class="line">&#x2F;dev&#x2F;tty1: character special</span><br><span class="line"></span><br><span class="line">[root@lqz ~]# file &#x2F;etc&#x2F;grub2.cfg</span><br><span class="line">&#x2F;etc&#x2F;grub2.cfg: broken symbolic link to &#96;..&#x2F;boot&#x2F;grub2&#x2F;grub.cfg&#39;</span><br><span class="line"></span><br><span class="line">[root@lqz ~]# file &#x2F;home</span><br><span class="line">&#x2F;home: directory</span><br><span class="line"></span><br><span class="line">[root@lqz ~]# file &#x2F;run&#x2F;dmeventd-client</span><br><span class="line">&#x2F;run&#x2F;dmeventd-client: fifo (named pipe)</span><br><span class="line"></span><br><span class="line">[root@lqz ~]# ll but</span><br><span class="line">-rw-r--r-- 1 root root 42125 Apr  1 12:26 but</span><br><span class="line">[root@lqz ~]# file but</span><br><span class="line">but: Zip archive data, at least v1.0 to extract</span><br></pre></td></tr></table></figure>

<p>PS: Linux文件扩展名不代表任何含义，仅为了我们能更好的识别该文件是什么类型。</p>
<h2 id="7-系统链接文件"><a href="#7-系统链接文件" class="headerlink" title="7.系统链接文件"></a>7.系统链接文件</h2><p>文件有文件名与数据，在Linux上被分成两个部分：用户数据 (user data) 与元数据 (metadata)。<br>用户数据，即文件数据块 (data block)，数据块是记录文件真实内容的地方，我们将其称为Block<br>元数据，即文件的附加属性，如文件大小、创建时间、所有者等信息。我们称其为Inode<br>在Linux中，inode是文件元数据的一部分但其并不包含文件名，inode号即索引节点号）<br>文件名仅是为了方便人们的记忆和使用，系统或程序通过 inode 号寻找正确的文件数据块。图1.展示了程序通过文件名获取文件内容的过程。<br><img src= "/img/loading.gif" data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghu6vl9z4yj308w03c0so.jpg" alt="img"></p>
<p>Linux 系统引入了两种链接：硬链接 (hard link) 与软链接（又称符号链接，即 soft link 或 symbolic link）</p>
<h3 id="1-什么是软链接"><a href="#1-什么是软链接" class="headerlink" title="1.什么是软链接"></a>1.什么是软链接</h3><p>软链接相当于Windows的快捷方式，软链接文件会将inode指向源文件的block，当我们访问这个软链接文件时，其实访问的是源文件本身。那么当我们对一个文件创建多个软链接，其实就是多个inode指向同一个block。当我们删除软链接文件时，其实只是删除了一个inode指向，并不会对源文件源文件造成影响，但如果删除的是源文件则会造成所有软链接文件失效。</p>
<p><img src= "/img/loading.gif" data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghu6vol7ggj30hu08cq3p.jpg" alt="img"></p>
<h3 id="2-什么是硬链接"><a href="#2-什么是硬链接" class="headerlink" title="2.什么是硬链接"></a>2.什么是硬链接</h3><p>若一个inode号对应多个文件名，则称这些文件为硬链接。换言之，硬链接就是同一个文件使用了多个别名，如下图hard link 就是 file 的一个别名，他们有共同的 inode。<br><img src= "/img/loading.gif" data-src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghu6vsgq8ij30b80b80t8.jpg" alt="img"></p>
<h3 id="3-软链接实践"><a href="#3-软链接实践" class="headerlink" title="3.软链接实践"></a>3.软链接实践</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#文件软链接示例</span><br><span class="line">touch &#x2F;root&#x2F;file</span><br><span class="line">ln -s &#x2F;root&#x2F;file &#x2F;tmp&#x2F;file_bak</span><br><span class="line">ll &#x2F;tmp&#x2F;file_bak  &#x2F;&#x2F;root下file链接到&#x2F;tmp下并重命名为file_bak</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">#目录软链接示例</span><br><span class="line">mkdir &#x2F;soft&#x2F;nginx1.1 -p</span><br><span class="line">ln -s &#x2F;soft&#x2F;nginx1.1&#x2F; &#x2F;soft&#x2F;nginx</span><br><span class="line">ll &#x2F;soft&#x2F;nginx   &#x2F;&#x2F;查看链接指向</span><br><span class="line"></span><br><span class="line">#软链接使用场景</span><br><span class="line">1.软件升级</span><br><span class="line">2.企业代码发布 </span><br><span class="line">3.不方便目录移动</span><br></pre></td></tr></table></figure>

<h3 id="4-硬链接实践"><a href="#4-硬链接实践" class="headerlink" title="4.硬链接实践"></a>4.硬链接实践</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#文件硬链接示例</span><br><span class="line">ln  &#x2F;root&#x2F;file &#x2F;tmp&#x2F;file_hard</span><br><span class="line">ll &#x2F;tmp&#x2F;file_hard</span><br><span class="line"></span><br><span class="line">#PS：目录不能创建硬链接，硬链接文件可以用rm命令删除</span><br></pre></td></tr></table></figure>

<p>5.硬链接与软链接区别<br>1)ln命令创建硬链接，ln -s命令创建软链接。<br>2)目录不能创建硬链接，并且硬链接不可以跨越分区系统。<br>3)目录软链接特别常用,并且软链接支持跨越分区系统。<br>4)硬链接文件与源文件的inode相同，软链接文件与源文件inode不同。<br>5)删除软链接文件，对源文件及硬链接文件无任何影响。<br>6)删除文件的硬链接文件，对源文件及链接文件无任何影响。<br>7)删除链接文件的源文件，对硬链接无影响，会导致软链接失效。<br>8)删除源文件及其硬链接文件，整个文件会被真正的删除。</p>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">xilousonw</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://yoursite.com/2019/02/22/Linux%E2%80%94%E2%80%94%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/">http://yoursite.com/2019/02/22/Linux%E2%80%94%E2%80%94%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="/img/python+django.jpeg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><button class="reward-button"><i class="fas fa-qrcode"></i> Donate<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code__img" src="/img/%E5%BE%AE%E4%BF%A1%E6%94%B6%E6%AC%BE%E7%A0%81.jpeg" alt="微信支付" onclick="window.open('/img/%E5%BE%AE%E4%BF%A1%E6%94%B6%E6%AC%BE%E7%A0%81.jpeg')"/><div class="post-qr-code__desc">微信支付</div></li><li class="reward-item"><img class="post-qr-code__img" src="/img/%E6%94%AF%E4%BB%98%E5%AE%9D%E6%94%B6%E6%AC%BE%E7%A0%81.jpeg" alt="支付宝" onclick="window.open('/img/%E6%94%AF%E4%BB%98%E5%AE%9D%E6%94%B6%E6%AC%BE%E7%A0%81.jpeg')"/><div class="post-qr-code__desc">支付宝</div></li></ul></div></button></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2019/02/23/Linux%E2%80%94%E2%80%94%E6%96%87%E4%BB%B6%E7%BC%96%E8%BE%91/"><img class="prev-cover" data-src="/img/python+django.jpeg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">4-Linux——文件编辑</div></div></a></div><div class="next-post pull-right"><a href="/2019/02/21/Linux%E2%80%94%E2%80%94shell/"><img class="next-cover" data-src="/img/python+django.jpeg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">2-Linux——Shell</div></div></a></div></nav><hr><div id="post-comment"><div class="comment_headling"><i class="fas fa-comments fa-fw"></i><span> Comment</span></div><div id="disqus_thread"></div><script>var disqus_config = function () {
  this.page.url = 'http://yoursite.com/2019/02/22/Linux%E2%80%94%E2%80%94%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/';
  this.page.identifier = '2019/02/22/Linux——文件管理/';
  this.page.title = '3-Linux——文件管理';
};
(function() { 
  var d = document, s = d.createElement('script');
  s.src = 'https://.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
})();
</script><script>function getDisqusCount() {
  var d = document, s = d.createElement('script');
  s.src = 'https://.disqus.com/count.js';
  s.id = 'dsq-count-scr';
  (d.head || d.body).appendChild(s);
}

window.addEventListener('load', getDisqusCount, false);</script></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2020 By xilousonw</div><div class="framework-info"><span>Driven </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><button id="readmode" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="font_plus" title="Increase Font Size"><i class="fas fa-plus"></i></button><button id="font_minus" title="Decrease Font Size"><i class="fas fa-minus"></i></button><button class="translate_chn_to_cht" id="translateLink" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" title="Setting"><i class="fas fa-cog"></i></button><a id="to_comment" href="#post-comment" title="Scroll To Comments"><i class="scroll_to_comment fas fa-comments"></i></a><button class="close" id="mobile-toc-button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module" defer></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js" async></script></body></html>